<div class="container py-5">

    <div class="text-center mb-5">
        <h2 class="fw-bold text-dark">Categorías Deducibles 2025</h2>
        <p class="text-muted">Gestiona tus proyecciones de gastos personales</p>
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-4">

        <div class="col" *ngFor="let item of gastos">

            <div class="card h-100 border-0 shadow-lg card-hover">

                <div class="overflow-hidden rounded-top position-relative">
                    <img [src]="item.imagenUrl" class="card-img-top img-zoom" alt="{{item.nombre}}" style="height: 220px; object-fit: cover;">

                    <span class="position-absolute bottom-0 start-0 m-3 badge bg-dark shadow-sm">
            {{item.nombre | uppercase}}
          </span>
                </div>

                <div class="card-body text-center">

                    <div *ngIf="item.nombre === 'Vivienda'">
                        <h5 class="card-title fw-bold text-primary">Hogar Dulce Hogar</h5>
                        <p class="card-text text-secondary small">Invierte en tu patrimonio y aprovecha los beneficios.</p>
                    </div>

                    <div *ngIf="item.nombre === 'Salud'">
                        <h5 class="card-title fw-bold text-success">Tu Bienestar Primero</h5>
                        <p class="card-text text-secondary small">Prevenir es mejor que curar. Cubre a tu familia.</p>
                    </div>

                    <div *ngIf="item.nombre === 'Educación'">
                        <h5 class="card-title fw-bold text-warning text-dark">Futuro Brillante</h5>
                        <p class="card-text text-secondary small">El conocimiento es la única inversión que nunca se pierde.</p>
                    </div>

                </div>

                <div class="card-footer bg-white border-0 d-flex justify-content-between align-items-center pb-3 px-4">

                    <button class="btn btn-outline-primary btn-sm rounded-pill" (click)="mostrarOcultarInfo(item.nombre)">
            <i class="bi" [class.bi-chevron-down]="gastoSeleccionado !== item.nombre" 
                          [class.bi-chevron-up]="gastoSeleccionado === item.nombre"></i>
            {{ gastoSeleccionado === item.nombre ? 'Ocultar' : 'Detalles' }}
          </button>

                    <button class="btn btn-outline-danger btn-sm rounded-circle" (click)="borrarGasto(item.nombre)">
            <i class="bi bi-trash-fill"></i>
          </button>
                </div>

                <div *ngIf="gastoSeleccionado === item.nombre" class="bg-light p-3 border-top animate-fade-in">
                    <h6 class="text-dark fw-bold small">Cobertura SRI:</h6>
                    <ul class="small text-muted ps-3 mb-0">
                        <li *ngIf="item.nombre === 'Vivienda'">Intereses hipotecarios, arriendo, servicios.</li>
                        <li *ngIf="item.nombre === 'Salud'">Honorarios médicos, medicinas, lentes.</li>
                        <li *ngIf="item.nombre === 'Educación'">Matrículas, pensiones, útiles, transporte.</li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
</div>